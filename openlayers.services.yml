parameters:
  annotated_plugins_auto_discovery:
    - { owner: 'openlayers', type: 'Component', directory: 'Openlayers/Component'}
    - { owner: 'openlayers', type: 'Control', directory: 'Openlayers/Control'}
    - { owner: 'openlayers', type: 'Interaction', directory: 'Openlayers/Interaction'}
    - { owner: 'openlayers', type: 'Layer', directory: 'Openlayers/Layer'}
    - { owner: 'openlayers', type: 'Map', directory: 'Openlayers/Map'}
    - { owner: 'openlayers', type: 'Source', directory: 'Openlayers/Source'}
    - { owner: 'openlayers', type: 'Style', directory: 'Openlayers/Style'}

services:
  openlayers:
    class: \Drupal\service_container\Plugin\ContainerAwarePluginManager
    arguments: ['openlayers.internal.']
    calls:
      - [ setContainer, [ '@service_container' ] ]

  openlayers.messenger:
    alias: messenger

  openlayers.internal.error:
    class: \Drupal\openlayers\Types\Error
    arguments: ['@logger.channel.default', '@openlayers.messenger']

  openlayers.internal.collection:
    class: \Drupal\openlayers\Types\Collection
